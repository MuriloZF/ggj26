[gd_scene load_steps=7 format=3 uid="uid://cqe4wx4htat3r"]

[ext_resource type="Script" uid="uid://cqjq8leieof6h" path="res://boss_fight.gd" id="1_bhtn8"]
[ext_resource type="PackedScene" uid="uid://ddu6trkcxoe8v" path="res://player.tscn" id="2_n65jo"]
[ext_resource type="PackedScene" uid="uid://bvqti4pjm32d2" path="res://mask.tscn" id="5_47mo0"]
[ext_resource type="PackedScene" uid="uid://itefsw05f2dw" path="res://player_camera.tscn" id="6_y2k5v"]
[ext_resource type="Texture2D" uid="uid://htuqwu7uj5hl" path="res://Sprites/Backgrounds/backgroundBattle.png" id="7_f0fes"]

[sub_resource type="Curve2D" id="Curve2D_n65jo"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -126.98372, -8, 0, 0, 0, 0, 8, -24, 0, 0, 0, 0, 48.130295, -16, 0, 0, 0, 0, 70.01955, -32, 0, 0, 0, 0, 139.33551, -16, 0, 0, 0, 0, 175.8176, -32, 0, 0, 0, 0, 263.3746, -8, 0, 0, 0, 0, 332.69058, 0, 0, 0, 0, 0, 365.52444, -16, 0, 0, 0, 0, 412.95114, -8, 0, 0, 0, 0, 453.08145, -8, 0, 0, 0, 0, 518.74927, 0, 0, 0, 0, 0, 566.1759, -8, 0, 0, 0, 0, 602.65796, -8, 0, 0, 0, 0, 653.7329, -16, 0, 0, 0, 0, 697.5115, -16, 0, 0, 0, 0, 733.9935, -8, 0, 0, 0, 0, -86.853424, -16, 0, 0, 0, 0, -64.96417, -8)
}
point_count = 19

[node name="bossFight" type="Node"]
script = ExtResource("1_bhtn8")

[node name="player" parent="." groups=["player"] instance=ExtResource("2_n65jo")]
position = Vector2(64, 704)

[node name="playerCamera" parent="player" instance=ExtResource("6_y2k5v")]
position = Vector2(-40, -632)
offset = Vector2(0, 450)
enabled = false
process_callback = 0
limit_left = -200
limit_top = -215
limit_right = 1685
limit_bottom = 860

[node name="maskPath" type="Path2D" parent="."]
position = Vector2(62.45714, 16)
scale = Vector2(2.192857, 1)
curve = SubResource("Curve2D_n65jo")

[node name="maskSpawnLocation" type="PathFollow2D" parent="maskPath"]
position = Vector2(-126.98372, -8)
rotation = -0.11798232

[node name="maskTimer" type="Timer" parent="."]
wait_time = 0.5

[node name="fightTimer" type="Timer" parent="."]
wait_time = 15.0
one_shot = true
autostart = true

[node name="mask" parent="." instance=ExtResource("5_47mo0")]
position = Vector2(-8, 0)
collision_mask = 0

[node name="Parallax2D" type="Parallax2D" parent="."]
autoscroll = Vector2(10, 0)

[node name="backgroundBattle" type="Sprite2D" parent="Parallax2D"]
z_index = -1
position = Vector2(736, 288)
texture = ExtResource("7_f0fes")
metadata/_edit_lock_ = true

[connection signal="timeout" from="maskTimer" to="." method="_on_mask_timer_timeout"]
[connection signal="timeout" from="fightTimer" to="." method="_on_fight_timer_timeout"]
[connection signal="maskHit" from="mask" to="player" method="_on_mask_mask_hit"]

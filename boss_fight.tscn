[gd_scene load_steps=13 format=4 uid="uid://cqe4wx4htat3r"]

[ext_resource type="Script" uid="uid://cqjq8leieof6h" path="res://boss_fight.gd" id="1_bhtn8"]
[ext_resource type="PackedScene" uid="uid://ddu6trkcxoe8v" path="res://player.tscn" id="2_n65jo"]
[ext_resource type="PackedScene" uid="uid://bvqti4pjm32d2" path="res://mask.tscn" id="5_47mo0"]
[ext_resource type="Texture2D" uid="uid://bn0xjymquboep" path="res://Terrain (16 x 16).png" id="6_f0fes"]
[ext_resource type="PackedScene" uid="uid://itefsw05f2dw" path="res://player_camera.tscn" id="6_y2k5v"]
[ext_resource type="Texture2D" uid="uid://htuqwu7uj5hl" path="res://Sprites/Backgrounds/backgroundBattle.png" id="7_f0fes"]
[ext_resource type="Script" uid="uid://4xr3c2eds45h" path="res://hannya.gd" id="7_htj63"]
[ext_resource type="Texture2D" uid="uid://chut8y37lplm4" path="res://Sprites/hannya.png" id="8_fl1h7"]

[sub_resource type="Curve2D" id="Curve2D_n65jo"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -510.04562, -176, 0, 0, 0, 0, -32.130295, -224, 0, 0, 0, 0, 416.59937, -200, 0, 0, 0, 0, 788.7167, -224, 0, 0, 0, 0, 1149.8893, -184, 0, 0, 0, 0, 1255.6874, -176, 0, 0, 0, 0, 1164.4822, -56, 0, 0, 0, 0, 1047.7395, -72, 0, 0, 0, 0, 905.45935, -112, 0, 0, 0, 0, 704.80786, -120, 0, 0, 0, 0, 558.8795, -136, 0, 0, 0, 0, 372.82086, -128, 0, 0, 0, 0, 245.13358, -144, 0, 0, 0, 0, 132.0391, -232, 0, 0, 0, 0, 106.50163, -104, 0, 0, 0, 0, -141.57655, -296, 0, 0, 0, 0, -218.18893, -112, 0, 0, 0, 0, -309.39413, -184, 0, 0, 0, 0, -371.4137, -120, 0, 0, 0, 0, -524.6384, -104, 0, 0, 0, 0, -564.7688, -256, 0, 0, 0, 0, -448.0261, -24, 0, 0, 0, 0, -272.91205, 24, 0, 0, 0, 0, -236.42998, -80, 0, 0, 0, 0, -108.742676, -112, 0, 0, 0, 0, 99.205215, -48, 0, 0, 0, 0, 434.84042, 24, 0, 0, 0, 0, 493.21176, -64, 0, 0, 0, 0, 551.5831, -104, 0, 0, 0, 0, 803.30945, 8, 0, 0, 0, 0, 989.36816, 8, 0, 0, 0, 0, 1204.6124, 8)
}
point_count = 32

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_htj63"]
texture = ExtResource("6_f0fes")
3:1/0 = 0
4:1/0 = 0
4:1/0/z_index = -2
4:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
5:1/0 = 0
11:1/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
11:2/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0
4:3/0 = 0
5:3/0 = 0
6:3/0 = 0
7:3/0 = 0
9:3/0 = 0
10:3/0 = 0
11:3/0 = 0
12:3/0 = 0
13:3/0 = 0
15:3/0 = 0
1:4/0 = 0
2:4/0 = 0
3:4/0 = 0
4:4/0 = 0
5:4/0 = 0
6:4/0 = 0
7:4/0 = 0
11:4/0 = 0
3:5/0 = 0
4:5/0 = 0
5:5/0 = 0
11:5/0 = 0
3:6/0 = 0
4:6/0 = 0
5:6/0 = 0
4:8/0 = 0

[sub_resource type="TileSet" id="TileSet_fl1h7"]
physics_layer_0/collision_layer = 2
sources/0 = SubResource("TileSetAtlasSource_htj63")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5lasl"]
size = Vector2(1008, 1065)

[node name="bossFight" type="Node"]
script = ExtResource("1_bhtn8")

[node name="player" parent="." groups=["player"] instance=ExtResource("2_n65jo")]
position = Vector2(307, 1526)
scale = Vector2(2.4787278, 2.6234474)
speed = 600
win = 11

[node name="playerCamera" parent="player" instance=ExtResource("6_y2k5v")]
position = Vector2(-40, -632)
process_callback = 0
limit_left = -1242
limit_top = -235
limit_right = 2868
limit_bottom = 1900

[node name="maskPath" type="Path2D" parent="."]
position = Vector2(62.45714, 16)
scale = Vector2(2.192857, 1)
curve = SubResource("Curve2D_n65jo")

[node name="maskSpawnLocation" type="PathFollow2D" parent="maskPath"]
position = Vector2(-510.04562, -176)
rotation = -0.10010052

[node name="maskTimer" type="Timer" parent="."]
wait_time = 3.534

[node name="fightTimer" type="Timer" parent="."]
wait_time = 15.0
one_shot = true
autostart = true

[node name="mask" parent="." instance=ExtResource("5_47mo0")]
position = Vector2(-8, 0)
collision_mask = 0

[node name="Parallax2D" type="Parallax2D" parent="."]
autoscroll = Vector2(10, 0)

[node name="backgroundBattle" type="Sprite2D" parent="Parallax2D"]
z_index = -1
position = Vector2(773.9998, 802.75)
scale = Vector2(2.18125, 1.8052846)
texture = ExtResource("7_f0fes")

[node name="TileMapLayer" type="TileMapLayer" parent="."]
light_mask = 2
tile_map_data = PackedByteArray("AACzAO3/AAAEAAEAAACzAO7/AAAEAAEAAAC0AO7/AAAEAAEAAAC0AO//AAAEAAEAAAC0APD/AAAEAAEAAAC0APH/AAAEAAEAAAC0APL/AAAEAAEAAACzAO//AAAEAAEAAACzAPD/AAAEAAEAAAC0APP/AAAEAAEAAAC0APT/AAAEAAEAAAC0APX/AAAEAAEAAAC0APb/AAAEAAEAAAC0APf/AAAEAAEAAACzAPP/AAAEAAEAAACzAPL/AAAEAAEAAACzAPH/AAAEAAEAAACzAPT/AAAEAAEAAACzAPX/AAAEAAEAAAC0APj/AAAEAAEAAAC0APn/AAAEAAEAAAC0APr/AAAEAAEAAACzAPj/AAAEAAEAAACzAPf/AAAEAAEAAACzAPb/AAAEAAEAAAC0APv/AAAEAAEAAAC0APz/AAAEAAEAAAC0AP3/AAAEAAEAAACzAPr/AAAEAAEAAACzAPn/AAAEAAEAAACzAPv/AAAEAAEAAACzAPz/AAAEAAEAAACzAP3/AAAEAAEAAACzAP7/AAAEAAEAAACzAP//AAAEAAEAAAC0AP//AAAEAAEAAAC0AAAAAAAEAAEAAAC0AAEAAAAEAAEAAAC0AAIAAAAEAAEAAAC0AAMAAAAEAAEAAACzAAMAAAAEAAEAAACzAAIAAAAEAAEAAACzAAEAAAAEAAEAAACzAAAAAAAEAAEAAACyAAAAAAAEAAEAAACzAAQAAAAEAAEAAACzAAUAAAAEAAEAAAC0AAYAAAAEAAEAAAC0AAcAAAAEAAEAAAC0AAgAAAAEAAEAAAC0AAkAAAAEAAEAAACzAAgAAAAEAAEAAACzAAcAAAAEAAEAAACzAAYAAAAEAAEAAACzAAkAAAAEAAEAAAC0AAoAAAAEAAEAAAC0AAsAAAAEAAEAAAC0AAwAAAAEAAEAAACzAAsAAAAEAAEAAACzAAoAAAAEAAEAAACzAE4AAAAEAAEAAAC0AE8AAAAEAAEAAAC0AFAAAAAEAAEAAACzAFAAAAAEAAEAAACzAE8AAAAEAAEAAACzAFEAAAAEAAEAAAC0AFEAAAAEAAEAAAC0AFIAAAAEAAEAAAC0AFMAAAAEAAEAAACzAFMAAAAEAAEAAACzAFIAAAAEAAEAAACzAFQAAAAEAAEAAACzAFUAAAAEAAEAAACzAFYAAAAEAAEAAACzAFcAAAAEAAEAAACzAFgAAAAEAAEAAACzAFkAAAAEAAEAAACzAFoAAAAEAAEAAACzAFsAAAAEAAEAAACzAFwAAAAEAAEAAACzAF0AAAAEAAEAAACzAF4AAAAEAAEAAACzAF8AAAAEAAEAAACzAGAAAAAEAAEAAACzAGEAAAAEAAEAAACzAGIAAAAEAAEAAACzAGMAAAAEAAEAAACzAGQAAAAEAAEAAACzAGUAAAAEAAEAAACzAGYAAAAEAAEAAACzAGcAAAAEAAEAAACzAGgAAAAEAAEAAACzAGkAAAAEAAEAAACzAGoAAAAEAAEAAACzAGsAAAAEAAEAAACzAGwAAAAEAAEAAACzAG0AAAAEAAEAAAC0AG4AAAAEAAEAAAC0AG8AAAAEAAEAAAC0AHAAAAAEAAEAAACzAG8AAAAEAAEAAACzAG4AAAAEAAEAAACzAHAAAAAEAAEAAAC0AHEAAAAEAAEAAAC0AHIAAAAEAAEAAAC0AHMAAAAEAAEAAAC0AHQAAAAEAAEAAAC0AHUAAAAEAAEAAACzAHUAAAAEAAEAAACzAHQAAAAEAAEAAACzAHMAAAAEAAEAAACzAHIAAAAEAAEAAACzAHEAAAAEAAEAAACzAHYAAAAEAAEAAACyAHYAAAAEAAEAAACxAHYAAAAEAAEAAACyAHcAAAAEAAEAAACzAHcAAAAEAAEAAAC0AHcAAAAEAAEAAAC0AHYAAAAEAAEAAACs/0oAAAAEAAEAAACs/0sAAAAEAAEAAACs/0wAAAAEAAEAAACs/00AAAAEAAEAAACs/04AAAAEAAEAAACs/08AAAAEAAEAAACs/1AAAAAEAAEAAACs/1EAAAAEAAEAAACs/1IAAAAEAAEAAACs/1MAAAAEAAEAAACs/1QAAAAEAAEAAACs/1UAAAAEAAEAAACs/1YAAAAEAAEAAACs/1cAAAAEAAEAAACs/1gAAAAEAAEAAACs/1kAAAAEAAEAAACs/1oAAAAEAAEAAACs/1sAAAAEAAEAAACs/1wAAAAEAAEAAACs/10AAAAEAAEAAACs/14AAAAEAAEAAACs/18AAAAEAAEAAACs/2AAAAAEAAEAAACs/2EAAAAEAAEAAACs/2IAAAAEAAEAAACs/2MAAAAEAAEAAACs/2QAAAAEAAEAAACs/2UAAAAEAAEAAACs/2YAAAAEAAEAAACs/2cAAAAEAAEAAACs/2gAAAAEAAEAAACs/2kAAAAEAAEAAACs/2oAAAAEAAEAAACr/2oAAAAEAAEAAACr/2sAAAAEAAEAAACr/2wAAAAEAAEAAACr/20AAAAEAAEAAACr/24AAAAEAAEAAACr/28AAAAEAAEAAACs/28AAAAEAAEAAACs/24AAAAEAAEAAACs/20AAAAEAAEAAACs/2wAAAAEAAEAAACs/2sAAAAEAAEAAACs/3AAAAAEAAEAAACs/3EAAAAEAAEAAACs/3IAAAAEAAEAAACs/3MAAAAEAAEAAACs/3QAAAAEAAEAAACt/3UAAAAEAAEAAACt/3YAAAAEAAEAAACs/3UAAAAEAAEAAACs/3YAAAAEAAEAAACs/3cAAAAEAAEAAACs/3gAAAAEAAEAAACt/3gAAAAEAAEAAACu/3gAAAAEAAEAAACt/3cAAAAEAAEAAACr/3cAAAAEAAEAAACr/3YAAAAEAAEAAAA=")
tile_set = SubResource("TileSet_fl1h7")

[node name="hannya" type="RigidBody2D" parent="."]
visible = false
position = Vector2(3304, 456)
freeze = true
script = ExtResource("7_htj63")

[node name="spriteHannya" type="Sprite2D" parent="hannya"]
position = Vector2(-1064, -56)
texture = ExtResource("8_fl1h7")

[node name="CollisionShape2D" type="CollisionShape2D" parent="hannya"]
light_mask = 2
position = Vector2(-1112, -88)
shape = SubResource("RectangleShape2D_5lasl")

[connection signal="timeout" from="maskTimer" to="." method="_on_mask_timer_timeout"]
[connection signal="timeout" from="fightTimer" to="." method="_on_fight_timer_timeout"]
[connection signal="maskHit" from="mask" to="player" method="_on_mask_mask_hit"]
[connection signal="hitHannya" from="hannya" to="player" method="_on_hannya_hit_hannya"]
